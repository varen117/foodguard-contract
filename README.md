# FoodGuard DAO - å»ä¸­å¿ƒåŒ–é£Ÿå“å®‰å…¨æŠ•è¯‰æ²»ç†ç³»ç»Ÿ

FoodGuard DAOæ˜¯ä¸€ä¸ªåŸºäºåŒºå—é“¾çš„å»ä¸­å¿ƒåŒ–é£Ÿå“å®‰å…¨æŠ•è¯‰å’Œæ²»ç†ç³»ç»Ÿï¼Œé€šè¿‡DAOæŠ•ç¥¨æœºåˆ¶å’Œç»æµæ¿€åŠ±æ¨¡å‹æ¥ç¡®ä¿é£Ÿå“å®‰å…¨æŠ•è¯‰çš„å…¬æ­£å¤„ç†ã€‚

## ç³»ç»Ÿæ¦‚è¿°

### ä¸»è¦åŠŸèƒ½
- ğŸ›ï¸ **DAOæ²»ç†æŠ•ç¥¨**ï¼šé€šè¿‡å»ä¸­å¿ƒåŒ–çš„æ–¹å¼å¤„ç†é£Ÿå“å®‰å…¨æŠ•è¯‰
- ğŸ’° **ä¿è¯é‡‘æœºåˆ¶**ï¼šæŠ•è¯‰è€…å’Œä¼ä¸šéƒ½éœ€è¦å­˜å…¥ä¿è¯é‡‘ä»¥ç¡®ä¿è¯šä¿¡å‚ä¸
- ğŸ¯ **é£é™©è¯„ä¼°**ï¼šåŸºäºAIç®—æ³•è‡ªåŠ¨è¯„ä¼°æŠ•è¯‰çš„é£é™©ç­‰çº§
- ğŸ² **éšæœºé€‰æ‹©**ï¼šéšæœºé€‰æ‹©DAOæˆå‘˜è¿›è¡ŒæŠ•ç¥¨å’ŒéªŒè¯ï¼Œç¡®ä¿å…¬æ­£æ€§
- ğŸ’ **å¥–åŠ±åˆ†é…**ï¼šå¯¹è¯šå®çš„å‚ä¸è€…è¿›è¡Œå¥–åŠ±ï¼Œæƒ©ç½šè™šå‡å‚ä¸è€…
- ğŸ¦ **è´¨æŠ¼ç³»ç»Ÿ**ï¼šç”¨æˆ·å¯ä»¥è´¨æŠ¼èµ„é‡‘è·å¾—åˆ©æ¯æ”¶ç›Š

### ç³»ç»Ÿæµç¨‹

```mermaid
flowchart TD
    Start([å¼€å§‹]) --> A[å­˜å…¥ä¿è¯é‡‘]
    A --> B[æäº¤æŠ•è¯‰]
    B --> C{é£é™©ç­‰çº§åˆ¤å®š}
    
    C -->|é«˜é£é™©| D[å†»ç»“ä¼ä¸šä¿è¯é‡‘]
    C -->|ä¸­ä½é£é™©| E[ä¸å†»ç»“ä¿è¯é‡‘]
    
    D --> F[éšæœºé€‰æ‹©DAOæˆå‘˜æŠ•ç¥¨]
    E --> F
    
    F --> G[DAOæˆå‘˜æŠ•ç¥¨]
    G --> H[éšæœºé€‰æ‹©éªŒè¯è€…]
    H --> I{éªŒè¯æŠ•ç¥¨ç»“æœ}
    
    I -->|éªŒè¯é€šè¿‡| J[ç»Ÿè®¡æŠ•ç¥¨ç»“æœ]
    I -->|éªŒè¯å¤±è´¥| K[é‡æ–°æŠ•ç¥¨]
    K --> F
    
    J --> L{æŠ•ç¥¨ç»“æœ}
    L -->|æ”¯æŒæŠ•è¯‰| M[æƒ©ç½šä¼ä¸š]
    L -->|åå¯¹æŠ•è¯‰| N[æƒ©ç½šæŠ•è¯‰è€…]
    
    M --> O[åˆ†é…å¥–åŠ±]
    N --> O
    O --> End([ç»“æŸ])
```

## åˆçº¦æ¶æ„

### æ ¸å¿ƒåˆçº¦

1. **FoodGuardDAO.sol** - ä¸»åˆçº¦
   - æŠ•è¯‰ç®¡ç†
   - DAOæˆå‘˜ç®¡ç†
   - æŠ•ç¥¨å’ŒéªŒè¯æµç¨‹
   - å¥–åŠ±åˆ†é…
   - è´¨æŠ¼åŠŸèƒ½

2. **RiskAssessment.sol** - é£é™©è¯„ä¼°åˆçº¦
   - åŸºäºå…³é”®è¯çš„é£é™©è¯„ä¼°
   - ä¼ä¸šå†å²è®°å½•ç®¡ç†
   - å£°èª‰è¯„åˆ†ç³»ç»Ÿ

3. **RandomSelector.sol** - éšæœºé€‰æ‹©åˆçº¦
   - éšæœºé€‰æ‹©æŠ•ç¥¨è€…
   - éšæœºé€‰æ‹©éªŒè¯è€…
   - é˜²æ­¢é‡å¤é€‰æ‹©

4. **interfaces/IFoodGuardDAO.sol** - æ¥å£å®šä¹‰
   - æ•°æ®ç»“æ„å®šä¹‰
   - äº‹ä»¶å®šä¹‰
   - å‡½æ•°æ¥å£

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js >= 16
- Foundry
- Git

### å®‰è£…

```bash
# å…‹éš†ä»“åº“
git clone <repository-url>
cd foodguard-contract

# å®‰è£…ä¾èµ–
forge install

# ç¼–è¯‘åˆçº¦
forge build
```

### è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
forge test

# è¿è¡Œè¯¦ç»†æµ‹è¯•
forge test -vvv

# è¿è¡Œç‰¹å®šæµ‹è¯•
forge test --match-test testCompleteHighRiskComplaintFlow
```

### éƒ¨ç½²

```bash
# è®¾ç½®ç¯å¢ƒå˜é‡
export PRIVATE_KEY=<your-private-key>
export MAINNET_RPC_URL=<rpc-url>

# éƒ¨ç½²åˆ°æœ¬åœ°ç½‘ç»œ
forge script script/Deploy.s.sol --rpc-url localhost

# éƒ¨ç½²åˆ°æµ‹è¯•ç½‘
forge script script/Deploy.s.sol --rpc-url sepolia --broadcast --verify
```

## ä¸»è¦åŠŸèƒ½è¯¦è§£

### 1. æŠ•è¯‰æµç¨‹

#### æäº¤æŠ•è¯‰
```solidity
function submitComplaint(
    address _company,
    string memory _description,
    RiskLevel _riskLevel
) external returns (uint256)
```

#### æŠ•ç¥¨
```solidity
function submitVote(
    uint256 _complaintId,
    bool _support,
    string memory _evidence
) external
```

#### éªŒè¯
```solidity
function verifyVote(
    uint256 _complaintId,
    bool _verified
) external
```

### 2. è´¨æŠ¼ç³»ç»Ÿ

#### è´¨æŠ¼èµ„é‡‘
```solidity
function stake() external payable
```

#### æå–è´¨æŠ¼
```solidity
function withdrawStake(uint256 _amount) external
```

#### è®¡ç®—åˆ©æ¯
```solidity
function calculateInterest(address _staker) public view returns (uint256)
```

### 3. ä¿è¯é‡‘ç®¡ç†

#### å­˜å…¥ä¿è¯é‡‘
```solidity
function depositGuarantee() external payable
```

#### æå–ä¿è¯é‡‘
```solidity
function withdrawDeposit(uint256 _amount) external
```

## ç»æµæ¨¡å‹

### ä¿è¯é‡‘è¦æ±‚
- æœ€ä½ä¿è¯é‡‘ï¼š0.1 ETH
- æŠ•è¯‰è€…å’Œä¼ä¸šéƒ½éœ€è¦å­˜å…¥ä¿è¯é‡‘
- é«˜é£é™©æŠ•è¯‰ä¼šå†»ç»“ä¼ä¸šä¿è¯é‡‘

### å¥–åŠ±åˆ†é…
- 90%çš„å¥–é‡‘æ± åˆ†é…ç»™è¯šå®æŠ•ç¥¨è€…
- 10%è¿›å…¥å‚¨å¤‡åŸºé‡‘
- å‚¨å¤‡åŸºé‡‘ç”¨äºæ”¯ä»˜è´¨æŠ¼åˆ©æ¯

### æƒ©ç½šæœºåˆ¶
- è´¥è¯‰æ–¹çš„ä¿è¯é‡‘è¢«æ²¡æ”¶
- è™šå‡éªŒè¯è€…è¢«ç½šæ¬¾ä¿è¯é‡‘çš„10%
- è¢«ç½šèµ„é‡‘è¿›å…¥å¥–é‡‘æ± 

## é£é™©ç­‰çº§è¯„ä¼°

ç³»ç»Ÿæ ¹æ®ä»¥ä¸‹å› ç´ è‡ªåŠ¨è¯„ä¼°é£é™©ç­‰çº§ï¼š

### è¯„ä¼°ç»´åº¦
1. **ä¼ä¸šå†å²è®°å½•**ï¼ˆæƒé‡40%ï¼‰
   - å†å²è¿è§„æ¬¡æ•°
   - å£°èª‰è¯„åˆ†

2. **æŠ•è¯‰ç±»å‹**ï¼ˆæƒé‡35%ï¼‰
   - å…³é”®è¯åŒ¹é…
   - ä¸¥é‡ç¨‹åº¦åˆ†æ

3. **è¯æ®è´¨é‡**ï¼ˆæƒé‡15%ï¼‰
   - è¯æ®å®Œæ•´æ€§
   - å¯ä¿¡åº¦è¯„ä¼°

4. **åœ°ç†å½±å“**ï¼ˆæƒé‡10%ï¼‰
   - å½±å“èŒƒå›´è¯„ä¼°
   - åŒºåŸŸé£é™©å› å­

### é£é™©é˜ˆå€¼
- é«˜é£é™©ï¼šæ€»åˆ† â‰¥ 80
- ä¸­é£é™©ï¼šæ€»åˆ† â‰¥ 50
- ä½é£é™©ï¼šæ€»åˆ† < 50

## DAOæ²»ç†

### æˆå‘˜ç®¡ç†
- åªæœ‰åˆçº¦æ‰€æœ‰è€…å¯ä»¥æ·»åŠ /ç§»é™¤DAOæˆå‘˜
- DAOæˆå‘˜äº«æœ‰æŠ•ç¥¨æƒå’ŒéªŒè¯æƒ
- éœ€è¦è¶³å¤Ÿæ•°é‡çš„æˆå‘˜å‚ä¸æŠ•ç¥¨

### æŠ•ç¥¨è¦æ±‚
- é«˜é£é™©æŠ•è¯‰ï¼šéœ€è¦3ç¥¨
- ä¸­ä½é£é™©æŠ•è¯‰ï¼šéœ€è¦2ç¥¨
- æŠ•ç¥¨ç»“æœéœ€è¦éªŒè¯é€šè¿‡æ‰èƒ½ç”Ÿæ•ˆ

### éšæœºé€‰æ‹©æœºåˆ¶
- ä½¿ç”¨åŒºå—hashå’Œæ—¶é—´æˆ³ç”Ÿæˆéšæœºç§å­
- ç¡®ä¿åŒä¸€æŠ•è¯‰ä¸­ä¸ä¼šé‡å¤é€‰æ‹©åŒä¸€æˆå‘˜
- éªŒè¯è€…ä¸èƒ½æ˜¯æŠ•ç¥¨è€…

## å®‰å…¨ç‰¹æ€§

### é‡å…¥æ”»å‡»é˜²æŠ¤
- ä½¿ç”¨OpenZeppelinçš„ReentrancyGuard

### æƒé™æ§åˆ¶
- åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶
- å…³é”®åŠŸèƒ½ä»…é™authorizedç”¨æˆ·

### æ•°æ®éªŒè¯
- ä¸¥æ ¼çš„è¾“å…¥éªŒè¯
- çŠ¶æ€æ£€æŸ¥å’Œè¾¹ç•Œæ¡ä»¶å¤„ç†

### æš‚åœæœºåˆ¶
- ç´§æ€¥æƒ…å†µä¸‹å¯æš‚åœåˆçº¦
- æ‰€æœ‰è€…å¯æ§åˆ¶æš‚åœ/æ¢å¤

## æµ‹è¯•è¦†ç›–

### å•å…ƒæµ‹è¯•
- âœ… ä¿è¯é‡‘å­˜å–æµ‹è¯•
- âœ… æŠ•è¯‰æäº¤æµ‹è¯•
- âœ… æŠ•ç¥¨åŠŸèƒ½æµ‹è¯•
- âœ… è´¨æŠ¼åŠŸèƒ½æµ‹è¯•
- âœ… æƒé™æ§åˆ¶æµ‹è¯•

### é›†æˆæµ‹è¯•
- âœ… å®Œæ•´é«˜é£é™©æŠ•è¯‰æµç¨‹
- âœ… å®Œæ•´ä½é£é™©æŠ•è¯‰æµç¨‹
- âœ… å¤šæŠ•è¯‰å¹¶å‘å¤„ç†
- âœ… å¥–åŠ±åˆ†é…æµç¨‹
- âœ… éªŒè¯å¤±è´¥æµç¨‹
- âœ… é£é™©è¯„ä¼°é›†æˆ
- âœ… éšæœºé€‰æ‹©é›†æˆ

## éƒ¨ç½²ä¿¡æ¯

### åˆçº¦åœ°å€ï¼ˆæµ‹è¯•ç½‘ï¼‰
- FoodGuardDAO: `å¾…éƒ¨ç½²`
- RiskAssessment: `å¾…éƒ¨ç½²`
- RandomSelector: `å¾…éƒ¨ç½²`

### Gasè´¹ç”¨ä¼˜åŒ–
- ä½¿ç”¨packedç»“æ„ä½“å‡å°‘å­˜å‚¨
- æ‰¹é‡æ“ä½œå‡å°‘äº¤æ˜“æ¬¡æ•°
- ä¼˜åŒ–å¾ªç¯é€»è¾‘

## è·¯çº¿å›¾

### Phase 1 âœ…
- åŸºç¡€åˆçº¦æ¶æ„
- æ ¸å¿ƒåŠŸèƒ½å®ç°
- å®Œæ•´æµ‹è¯•è¦†ç›–

### Phase 2 ğŸ”„
- å‰ç«¯ç•Œé¢å¼€å‘
- æµ‹è¯•ç½‘éƒ¨ç½²
- ç¤¾åŒºåé¦ˆæ”¶é›†

### Phase 3 ğŸ“‹
- ä¸»ç½‘éƒ¨ç½²
- DAOæ²»ç†å¯åŠ¨
- ç”Ÿæ€åˆä½œä¼™ä¼´æ¥å…¥

## è´¡çŒ®æŒ‡å—

1. Forké¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. æäº¤æ›´æ”¹
4. æ¨é€åˆ°åˆ†æ”¯
5. åˆ›å»ºPull Request

## è®¸å¯è¯

MIT License

## è”ç³»æ–¹å¼

- é¡¹ç›®ä¸»é¡µï¼š`<é¡¹ç›®URL>`
- æŠ€æœ¯æ–‡æ¡£ï¼š`<æ–‡æ¡£URL>`
- ç¤¾åŒºè®¨è®ºï¼š`<Discord/Telegram>`

---

**æ³¨æ„**ï¼šæœ¬é¡¹ç›®ä»åœ¨å¼€å‘ä¸­ï¼Œè¯·å‹¿åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨æœªç»å®¡è®¡çš„ä»£ç ã€‚
